<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./assets/css/global.css">
    <link rel="stylesheet" href="./assets/css/index.css">
    <title>Mémoire</title>
</head>

<body>
    <div id="main">
        <div id="safebox-wrapper">
            <h1>m e m o r i e s</h1>
            <div id="safebox">
                <div class="safebox-content" id="safebox-image"></div>
                <div class="safebox-content" id="safebox-password">
                    <input type="password" id="password" placeholder="mot de passe :)">
                    <button id="submitMemory">Entrer</button>
                </div>
            </div>
        </div>
    </div>
</body>

</html>


<script>
    $(document).ready(function() {
        const passwordInput = document.getElementById('password');
        const safeboxPassword = document.getElementById('safebox-password');

        // Fonction pour générer une position aléatoire autour du champ input
        function getRandomPosition() {
            const safeboxRect = safeboxPassword.getBoundingClientRect();
            const padding = 20; // On ajoute un peu de marge pour éviter que le cœur sorte de la zone visible

            const x = Math.random() * (safeboxRect.width - padding * 2) + padding;
            const y = Math.random() * (safeboxRect.height - padding * 2) + padding;

            return { x, y };
        }

        $('#submitMemory').on('click', function() {
            if($("safebox-password").val() == 'Myriam') {

                alert('?');
                window.location.href = '/time.html';
            } else {
                alert('Ehhhh nooon pas le bon');
            }
        })

        passwordInput.addEventListener('input', function () {
            const heart = document.createElement('span');
            heart.textContent = '❤️';  // Le cœur à afficher
            heart.classList.add('heart');

            // Récupérer une position aléatoire pour le cœur
            const { x, y } = getRandomPosition();

            // Appliquer la position aléatoire au cœur
            heart.style.left = `${x}px`;
            heart.style.top = `${y}px`;

            // Ajoute le cœur dans le conteneur #safebox-password
            safeboxPassword.appendChild(heart);

            // Supprimer le cœur après l'animation
            setTimeout(() => {
                heart.remove();
            }, 1000);  // La durée de l'animation
        });
    });
</script>

<script>
    // Fonction pour générer une position aléatoire sur la page
    function generateHeartRandomPosition() {
        const width = window.innerWidth;
        const height = window.innerHeight;

        const x = Math.random() * width; // Position horizontale aléatoire
        const y = Math.random() * height; // Position verticale aléatoire

        return { x, y };
    }

    // Fonction pour créer un cœur
    function createFloatingHeart() {
        const heart = document.createElement('span');
        heart.textContent = '❤️';
        heart.classList.add('heart');

        // Générer une position aléatoire
        const { x, y } = generateHeartRandomPosition();
        heart.style.left = `${x}px`;
        heart.style.top = `${y}px`;

        // Ajoute le cœur au body
        document.body.appendChild(heart);

        // Supprime le cœur après l'animation
        setTimeout(() => {
            heart.remove();
        }, 2000); // Durée de l'animation
    }

    // Générer des cœurs à des intervalles réguliers
    function startRandomHearts() {
        setInterval(() => {
            createFloatingHeart();
        }, 2500); // Un cœur par seconde
    }

    // Démarrer les cœurs aléatoires
    createFloatingHeart();
    startRandomHearts();
</script>